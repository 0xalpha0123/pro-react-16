{"version":3,"sources":["admin/clientQueries.js","admin/OrdersRow.js","admin/OrdersTable.js","admin/clientMutations.js","admin/OrdersConnector.js","admin/ProductsRow.js","admin/ProductsTable.js","admin/ProductsConnector.js","admin/ProductCreator.js","admin/ProductEditor.js","auth/AuthWrapper.js","auth/AuthPrompt.js","admin/Admin.js"],"names":["ordersSummaryQuery","gql","_templateObject","productsList","_templateObject2","product","_templateObject3","OrdersRow","_Component","_getPrototypeOf2","_this","Object","classCallCheck","this","_len","arguments","length","args","Array","_key","possibleConstructorReturn","getPrototypeOf","call","apply","concat","calcTotal","products","reduce","total","p","quantity","price","toFixed","getShipping","order","shipped","react_default","a","createElement","className","render","props","id","name","email","onClick","toggleShipped","inherits","Component","OrdersTable","totalSize","PaginationControls","assign","keys","orders","map","OrdersRow_OrdersRow","key","shipOrder","clientMutations_templateObject","storeProduct","clientMutations_templateObject2","updateProduct","clientMutations_templateObject3","deleteProduct","_templateObject4","vars","onlyShipped","page","pageSize","sort","OrdersConnector","compose","graphql","options","variables","_ref","_ref$data","data","loading","refetch","currentPage","pageCount","Math","ceil","navigateToPage","Number","setPageSize","size","sortKey","setSortProperty","_ref2","mutate","ProductsRow","category","Link","to","ProductsTable","prod","ProductsRow_ProductsRow","ConnectedProducts","update","cache","queryDetails","query","readQuery","filter","writeQuery","objectSpread","_ref3","ProductCreator","navigate","history","push","react_apollo_browser_umd","mutation","saveMutation","client","ValidatedForm","formModel","defaultAttrs","submitCallback","mode","resetStore","cancelCallback","submitText","cancelText","type","required","label","attrs","disabled","toConsumableArray","item","defaultValue","toLowerCase","ProductEditor","match","params","ProductCreator_ProductCreator","authWrapper","WrappedComponent","_class2","AuthContext","Consumer","context","AuthPrompt","withRouter","authenticate","credentials","catch","err","setState","errorMessage","message","then","state","_class","ApolloClient","uri","GraphQlUrl","request","gqloperation","setContext","headers","Authorization","webToken","createClass","value","ToggleLink","isAuthenticated","signout","Switch","Route","component","path","Redirect"],"mappings":"gpCAEO,IAAMA,EAAqBC,IAAHC,KAalBC,EAAeF,IAAHG,KAUZC,EAAUJ,IAAHK,KCvBPC,EAAb,SAAAC,GAAA,SAAAD,IAAA,IAAAE,EAAAC,EAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAN,GAAA,QAAAO,EAAAC,UAAAC,OAAAC,EAAA,IAAAC,MAAAJ,GAAAK,EAAA,EAAAA,EAAAL,EAAAK,IAAAF,EAAAE,GAAAJ,UAAAI,GAAA,OAAAT,EAAAC,OAAAS,EAAA,EAAAT,CAAAE,MAAAJ,EAAAE,OAAAU,EAAA,EAAAV,CAAAJ,IAAAe,KAAAC,MAAAd,EAAA,CAAAI,MAAAW,OAAAP,MAEIQ,UAAY,SAACC,GAAD,OAAcA,EAASC,OAAO,SAACC,EAAOC,GAAR,OACtCD,EAASC,EAAEC,SAAWD,EAAExB,QAAQ0B,OAAO,GAAGC,QAAQ,IAH1DtB,EAKIuB,YAAc,SAACC,GAAD,OAAWA,EAAMC,QACzBC,EAAAC,EAAAC,cAAA,KAAGC,UAAU,qCACbH,EAAAC,EAAAC,cAAA,KAAGC,UAAU,0CAPvB7B,EASI8B,OAAS,kBACLJ,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,UAAM5B,EAAK+B,MAAMP,MAAMQ,IACvBN,EAAAC,EAAAC,cAAA,UAAK5B,EAAK+B,MAAMP,MAAMS,MACtBP,EAAAC,EAAAC,cAAA,UAAM5B,EAAK+B,MAAMP,MAAMU,OACvBR,EAAAC,EAAAC,cAAA,MAAIC,UAAU,cAAd,IACO7B,EAAKe,UAAUf,EAAK+B,MAAMP,MAAMR,WAEvCU,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eACVH,EAAAC,EAAAC,cAAA,UAAQC,UAAU,gCACVM,QAAUnC,EAAK+B,MAAMK,eACvBpC,EAAKuB,YAAYvB,EAAK+B,MAAMP,OAC9BE,EAAAC,EAAAC,cAAA,YACM5B,EAAK+B,MAAMP,MAAMC,QACb,WAAa,gBAvB3CzB,EAAA,OAAAC,OAAAoC,EAAA,EAAApC,CAAAJ,EAAAC,GAAAD,EAAA,CAA+ByC,qBCElBC,EAAb,SAAAzC,GAAA,SAAAyC,IAAA,IAAAxC,EAAAC,EAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAoC,GAAA,QAAAnC,EAAAC,UAAAC,OAAAC,EAAA,IAAAC,MAAAJ,GAAAK,EAAA,EAAAA,EAAAL,EAAAK,IAAAF,EAAAE,GAAAJ,UAAAI,GAAA,OAAAT,EAAAC,OAAAS,EAAA,EAAAT,CAAAE,MAAAJ,EAAAE,OAAAU,EAAA,EAAAV,CAAAsC,IAAA3B,KAAAC,MAAAd,EAAA,CAAAI,MAAAW,OAAAP,MAEIuB,OAAS,kBACLJ,EAAAC,EAAAC,cAAA,WACIF,EAAAC,EAAAC,cAAA,MAAIC,UAAU,sCACR7B,EAAK+B,MAAMS,UADjB,WAIAd,EAAAC,EAAAC,cAACa,EAAA,EAADxC,OAAAyC,OAAA,CAAoBC,KAAM,CAAC,KAAM,SACxB3C,EAAK+B,QAEdL,EAAAC,EAAAC,cAAA,SAAOC,UAAU,gCACbH,EAAAC,EAAAC,cAAA,aACIF,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,gBACAF,EAAAC,EAAAC,cAAA,kBAAaF,EAAAC,EAAAC,cAAA,mBACbF,EAAAC,EAAAC,cAAA,MAAIC,UAAU,cAAd,SACAH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eAAd,aAGRH,EAAAC,EAAAC,cAAA,aACM5B,EAAK+B,MAAMa,OAAOC,IAAI,SAAArB,GAAK,OACzBE,EAAAC,EAAAC,cAACkB,EAAD,CAAWC,IAAMvB,EAAMQ,GACnBR,MAAQA,EAAOY,cAAgB,kBAC3BpC,EAAK+B,MAAMK,cAAcZ,EAAMQ,IAAKR,EAAMC,kBAvB1EzB,EAAA,OAAAC,OAAAoC,EAAA,EAAApC,CAAAsC,EAAAzC,GAAAyC,EAAA,CAAiCD,6zBCF1B,IAAMU,EAAYzD,IAAH0D,KAOTC,EAAe3D,IAAH4D,KAOZC,EAAgB7D,IAAH8D,KAObC,EAAgB/D,IAAHgE,KClBpBC,EAAO,CACTC,aAAa,EAAOC,KAAM,EAAGC,SAAU,GAAIC,KAAM,MAGxCC,EAAkBC,kBAC3BC,kBAAQzE,EACJ,CACI0E,QAAS,SAACjC,GAAD,MAAY,CAAEkC,UAAWT,IAClCzB,MAAO,SAAAmC,GAAA,IAAAC,EAAAD,EAAEE,KAAQC,EAAVF,EAAUE,QAASzB,EAAnBuB,EAAmBvB,OAAQ0B,EAA3BH,EAA2BG,QAA3B,MAA2C,CAC9C9B,UAAW6B,EAAU,EAAIzB,EAAOJ,UAChCI,OAAQyB,EAAU,GAAIzB,EAAOA,OAC7B2B,YAAaf,EAAKE,KAClBc,UAAWH,EAAU,EAAII,KAAKC,KAAK9B,EAAOJ,UAAYgB,EAAKG,UAC3DgB,eAAgB,SAACjB,GAAWF,EAAKE,KAAOkB,OAAOlB,GAAOY,EAAQd,IAC9DG,SAAUH,EAAKG,SACfkB,YAAa,SAACC,GACRtB,EAAKG,SAAWiB,OAAOE,GAAOR,EAAQd,IAC5CuB,QAASvB,EAAKI,KACdoB,gBAAiB,SAACjC,GAAUS,EAAKI,KAAOb,EAAKuB,EAAQd,QAIjEO,kBAAQf,EAAW,CACfjB,MAAO,SAAAkD,GAAA,IAAGC,EAAHD,EAAGC,OAAH,MAAiB,CACpB9C,cAAe,SAACJ,EAAIP,GAAL,OAAiByD,EAAO,CAAEjB,UAAW,CAAEjC,KAAIP,kBApBvCqC,CAuB7BvB,sDC7BW4C,EAAb,SAAArF,GAAA,SAAAqF,IAAA,IAAApF,EAAAC,EAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAgF,GAAA,QAAA/E,EAAAC,UAAAC,OAAAC,EAAA,IAAAC,MAAAJ,GAAAK,EAAA,EAAAA,EAAAL,EAAAK,IAAAF,EAAAE,GAAAJ,UAAAI,GAAA,OAAAT,EAAAC,OAAAS,EAAA,EAAAT,CAAAE,MAAAJ,EAAAE,OAAAU,EAAA,EAAAV,CAAAkF,IAAAvE,KAAAC,MAAAd,EAAA,CAAAI,MAAAW,OAAAP,MAEIuB,OAAS,kBACLJ,EAAAC,EAAAC,cAAA,UACIF,EAAAC,EAAAC,cAAA,UAAM5B,EAAK+B,MAAMpC,QAAQqC,IACzBN,EAAAC,EAAAC,cAAA,UAAK5B,EAAK+B,MAAMpC,QAAQsC,MACxBP,EAAAC,EAAAC,cAAA,UAAM5B,EAAK+B,MAAMpC,QAAQyF,UACzB1D,EAAAC,EAAAC,cAAA,MAAIC,UAAU,cAAd,IACO7B,EAAK+B,MAAMpC,QAAQ0B,MAAMC,QAAQ,IAExCI,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eACVH,EAAAC,EAAAC,cAAA,UAAQC,UAAU,6BACdM,QAAU,kBACNnC,EAAK+B,MAAMuB,cAActD,EAAK+B,MAAMpC,QAAQqC,MAFpD,UAKAN,EAAAC,EAAAC,cAACyD,EAAA,EAAD,CAAMC,GAAE,mBAAAxE,OAAqBd,EAAK+B,MAAMpC,QAAQqC,IAC5CH,UAAU,0BADd,WAhBhB7B,EAAA,OAAAC,OAAAoC,EAAA,EAAApC,CAAAkF,EAAArF,GAAAqF,EAAA,CAAiC7C,aCEpBiD,EAAb,SAAAzF,GAAA,SAAAyF,IAAA,IAAAxF,EAAAC,EAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAoF,GAAA,QAAAnF,EAAAC,UAAAC,OAAAC,EAAA,IAAAC,MAAAJ,GAAAK,EAAA,EAAAA,EAAAL,EAAAK,IAAAF,EAAAE,GAAAJ,UAAAI,GAAA,OAAAT,EAAAC,OAAAS,EAAA,EAAAT,CAAAE,MAAAJ,EAAAE,OAAAU,EAAA,EAAAV,CAAAsF,IAAA3E,KAAAC,MAAAd,EAAA,CAAAI,MAAAW,OAAAP,MAEIuB,OAAS,kBACJJ,EAAAC,EAAAC,cAAA,WACGF,EAAAC,EAAAC,cAAA,MAAIC,UAAU,sCACR7B,EAAK+B,MAAMS,UADjB,aAIJd,EAAAC,EAAAC,cAACa,EAAA,EAADxC,OAAAyC,OAAA,CAAoBC,KAAM,CAAC,KAAM,OAAQ,aAChC3C,EAAK+B,QAEdL,EAAAC,EAAAC,cAAA,SAAOC,UAAU,gCACbH,EAAAC,EAAAC,cAAA,aACIF,EAAAC,EAAAC,cAAA,UAAIF,EAAAC,EAAAC,cAAA,gBACAF,EAAAC,EAAAC,cAAA,kBAAaF,EAAAC,EAAAC,cAAA,sBACbF,EAAAC,EAAAC,cAAA,MAAIC,UAAU,cAAd,SACAH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,kBAGtBH,EAAAC,EAAAC,cAAA,aACM5B,EAAK+B,MAAMf,SAAS6B,IAAI,SAAA2C,GAAI,OAC1B9D,EAAAC,EAAAC,cAAC6D,EAAD,CAAa1C,IAAMyC,EAAKxD,GAAIrC,QAAU6F,EAClClC,cAAgBtD,EAAK+B,MAAMuB,oBAI3C5B,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eACXH,EAAAC,EAAAC,cAACyD,EAAA,EAAD,CAAMC,GAAG,yBAAyBzD,UAAU,mBAA5C,qBA3BZ7B,EAAA,OAAAC,OAAAoC,EAAA,EAAApC,CAAAsF,EAAAzF,GAAAyF,EAAA,CAAmCjD,aCA7BkB,EAAO,CACTE,KAAM,EAAGC,SAAU,GAAIC,KAAM,MAGpB8B,EAAoB5B,kBAC7BC,kBAAQtE,EACJ,CACIuE,QAAS,SAACjC,GAAD,MAAY,CAAEkC,UAAWT,IAClCzB,MAAO,SAAAmC,GAAA,IAAAC,EAAAD,EAAEE,KAAQC,EAAVF,EAAUE,QAASrD,EAAnBmD,EAAmBnD,SAAUsD,EAA7BH,EAA6BG,QAA7B,MAA6C,CAChD9B,UAAW6B,EAAU,EAAIrD,EAASwB,UAClCxB,SAAUqD,EAAU,GAAIrD,EAASA,SACjCuD,YAAaf,EAAKE,KAClBc,UAAWH,EAAU,EACfI,KAAKC,KAAK1D,EAASwB,UAAYgB,EAAKG,UAC1CgB,eAAgB,SAACjB,GAAWF,EAAKE,KAAOkB,OAAOlB,GAAOY,EAAQd,IAC9DG,SAAUH,EAAKG,SACfkB,YAAa,SAACC,GACRtB,EAAKG,SAAWiB,OAAOE,GAAOR,EAAQd,IAC5CuB,QAASvB,EAAKI,KACdoB,gBAAiB,SAACjC,GAAUS,EAAKI,KAAOb,EAAKuB,EAAQd,QAIjEO,kBAAQT,EACJ,CACIU,QAAS,CACL2B,OAAQ,SAACC,EAADX,GAA8C,IAAXjD,EAAWiD,EAApCb,KAAQd,cAAiBtB,GACjC6D,EAAe,CAAEC,MAAOrG,EAAcwE,UAAWT,GACjDY,EAAOwB,EAAMG,UAAUF,GAC7BzB,EAAKpD,SAASA,SACVoD,EAAKpD,SAASA,SAASgF,OAAO,SAAA7E,GAAC,OAAIA,EAAEa,KAAOA,IAChDoC,EAAKpD,SAASwB,UAAY4B,EAAKpD,SAASwB,UAAY,EACpDoD,EAAMK,WAANhG,OAAAiG,EAAA,EAAAjG,CAAA,GAAqB4F,EAArB,CAAmCzB,YAG/CrC,MAAO,SAAAoE,GAAA,IAAGjB,EAAHiB,EAAGjB,OAAH,MAAiB,CACpB5B,cAAe,SAACtB,GAAD,OAAQkD,EAAO,CAAEjB,UAAW,CAAEjC,aAhCxB8B,CAmC/ByB,mBCvCWa,EAAb,SAAAtG,GAEI,SAAAsG,EAAYrE,GAAO,IAAA/B,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAiG,IACfpG,EAAAC,OAAAS,EAAA,EAAAT,CAAAE,KAAAF,OAAAU,EAAA,EAAAV,CAAAmG,GAAAxF,KAAAT,KAAM4B,KAiBVsE,SAAW,kBAAMrG,EAAK+B,MAAMuE,QAAQC,KAAK,oBAlBtBvG,EAoBnB8B,OAAS,WACL,OAAOJ,EAAAC,EAAAC,cAAA,OAAKC,UAAU,mBAClBH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,0BACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gBAAf,kBAGRH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,WACXH,EAAAC,EAAAC,cAAC4E,EAAA,SAAD,CAAUC,SAAWzG,EAAKyG,UACpB,SAACC,EAADxC,GAA6B,IAAbyC,EAAazC,EAAbyC,OACd,OAAOjF,EAAAC,EAAAC,cAACgF,EAAA,EAAD,CAAeC,UAAY7G,EAAK6G,UACnCC,aAAe9G,EAAK8G,aACpBC,eAAiB,SAAA3C,GACbsC,EAAa,CAACzC,UAAW,CAAEtE,QAAQM,OAAAiG,EAAA,EAAAjG,CAAA,GAC1BmE,EADyB,CACnB/C,MAAOuD,OAAOR,EAAK/C,YACV,SAApBrB,EAAK+B,MAAMiF,MACXL,EAAOM,aAEXjH,EAAKqG,YAETa,eAAiBlH,EAAKqG,SACtBc,WAAW,OAAOC,WAAW,iBAxCrDpH,EAAK8G,aAAe,CAAEO,KAAM,OAAQC,UAAU,GAC9CtH,EAAK6G,UAAY,CACb,CAAEU,MAAO,QAAU,CAAEA,MAAO,eAC5B,CAAEA,MAAO,YACT,CAAEA,MAAO,QAASC,MAAO,CAAEH,KAAM,YAErCrH,EAAKyG,SAAWvD,EACQ,SAApBlD,EAAK+B,MAAMiF,OACXhH,EAAKyG,SAAWrD,EAChBpD,EAAK6G,UAAY,CAAE,CAAEU,MAAO,KAAMC,MAAO,CAAEC,UAAU,KAApC3G,OAAAb,OAAAyH,EAAA,EAAAzH,CACLD,EAAK6G,YACZhE,IAAI,SAAA8E,GAAI,OAAA1H,OAAAiG,EAAA,EAAAjG,CAAA,GAAU0H,EAAV,CAAgBH,MAAMvH,OAAAiG,EAAA,EAAAjG,CAAA,GAAM0H,EAAKH,MAAZ,CAC1BI,aAAc5H,EAAK+B,MAAMpC,QAAQgI,EAAKJ,MAAMM,sBAdzC7H,EAFvB,OAAAC,OAAAoC,EAAA,EAAApC,CAAAmG,EAAAtG,GAAAsG,EAAA,CAAoC9D,aCAvBwF,EAAb,SAAAhI,GAAA,SAAAgI,IAAA,IAAA/H,EAAAC,EAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAA2H,GAAA,QAAA1H,EAAAC,UAAAC,OAAAC,EAAA,IAAAC,MAAAJ,GAAAK,EAAA,EAAAA,EAAAL,EAAAK,IAAAF,EAAAE,GAAAJ,UAAAI,GAAA,OAAAT,EAAAC,OAAAS,EAAA,EAAAT,CAAAE,MAAAJ,EAAAE,OAAAU,EAAA,EAAAV,CAAA6H,IAAAlH,KAAAC,MAAAd,EAAA,CAAAI,MAAAW,OAAAP,MAEIuB,OAAS,kBACLJ,EAAAC,EAAAC,cAAC4E,EAAA,MAAD,CAAOV,MAAQnG,EAAUsE,UAAY,CAACjC,GAAIhC,EAAK+B,MAAMgG,MAAMC,OAAOhG,KAC5D,SAAAkC,GAAuB,IAApBG,EAAoBH,EAApBG,QAASD,EAAWF,EAAXE,KACV,OAAKC,EAIE,KAHI3C,EAAAC,EAAAC,cAACqG,EAADhI,OAAAyC,OAAA,GAAoB1C,EAAK+B,MAAzB,CAAiCpC,QAASyE,EAAKzE,QAClDqH,KAAK,aAP7BhH,EAAA,OAAAC,OAAAoC,EAAA,EAAApC,CAAA6H,EAAAhI,GAAAgI,EAAA,CAAmCxF,8BCFtB4F,EAAc,SAACC,GAAD,gBAAArI,GAAA,SAAAsI,IAAA,IAAArI,EAAAC,EAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAiI,GAAA,QAAAhI,EAAAC,UAAAC,OAAAC,EAAA,IAAAC,MAAAJ,GAAAK,EAAA,EAAAA,EAAAL,EAAAK,IAAAF,EAAAE,GAAAJ,UAAAI,GAAA,OAAAT,EAAAC,OAAAS,EAAA,EAAAT,CAAAE,MAAAJ,EAAAE,OAAAU,EAAA,EAAAV,CAAAmI,IAAAxH,KAAAC,MAAAd,EAAA,CAAAI,MAAAW,OAAAP,MAEnBuB,OAAS,kBACLJ,EAAAC,EAAAC,cAACyG,EAAA,EAAYC,SAAb,KACM,SAAAC,GAAO,OACL7G,EAAAC,EAAAC,cAACuG,EAADlI,OAAAyC,OAAA,GAAuB1C,EAAK+B,MAAawG,OALlCvI,EAAA,OAAAC,OAAAoC,EAAA,EAAApC,CAAAmI,EAAAtI,GAAAsI,EAAA,CACT9F,cCCLkG,EAAaC,YAAWP,EAAW,SAAApI,GAE5C,SAAAsI,EAAYrG,GAAO,IAAA/B,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAiI,IACfpI,EAAAC,OAAAS,EAAA,EAAAT,CAAAE,KAAAF,OAAAU,EAAA,EAAAV,CAAAmI,GAAAxH,KAAAT,KAAM4B,KAWV2G,aAAe,SAACC,GACZ3I,EAAK+B,MAAM2G,aAAaC,GACnBC,MAAM,SAAAC,GAAG,OAAI7I,EAAK8I,SAAS,CAAEC,aAAcF,EAAIG,YAC/CC,KAAKjJ,EAAK+B,MAAMuE,QAAQC,KAAK,YAfnBvG,EAkBnB8B,OAAS,kBACLJ,EAAAC,EAAAC,cAAA,OAAKC,UAAU,mBACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,0BACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gBAAf,kBAGRH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,WACkB,MAA3B7B,EAAKkJ,MAAMH,cACTrH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,4CACR7B,EAAKkJ,MAAMH,cAGrBrH,EAAAC,EAAAC,cAACgF,EAAA,EAAD,CAAeC,UAAY7G,EAAK6G,UAC5BC,aAAe9G,EAAK8G,aACpBC,eAAiB/G,EAAK0I,aACtBvB,WAAW,QACXD,eAAiB,kBAAMlH,EAAK+B,MAAMuE,QAAQC,KAAK,MAC/Ca,WAAW,eAnC3BpH,EAAKkJ,MAAQ,CACTH,aAAc,MAElB/I,EAAK8G,aAAe,CAAEQ,UAAU,GAChCtH,EAAK6G,UAAY,CACb,CAAEU,MAAO,WAAYC,MAAO,CAAEI,aAAc,UAC5C,CAAEL,MAAO,WAAYC,MAAO,CAAEH,KAAM,cARzBrH,EAFyB,OAAAC,OAAAoC,EAAA,EAAApC,CAAAmI,EAAAtI,GAAAsI,EAAA,CAAe9F,eCYhD4F,YAAW,SAAApI,GAEtB,SAAAqJ,EAAYpH,GAAO,IAAA/B,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAgJ,IACfnJ,EAAAC,OAAAS,EAAA,EAAAT,CAAAE,KAAAF,OAAAU,EAAA,EAAAV,CAAAkJ,GAAAvI,KAAAT,KAAM4B,KACD4E,OAAS,IAAIyC,IAAa,CAC3BC,IAAKC,IACLC,QAAS,SAAAC,GAAY,OAAIA,EAAaC,WAAW,CAC7CC,QAAS,CACLC,cAAa,UAAA7I,OAAYd,EAAK+B,MAAM6H,SAAvB,WANV5J,EAFG,OAAAC,OAAAoC,EAAA,EAAApC,CAAAkJ,EAAArJ,GAAAG,OAAA4J,EAAA,EAAA5J,CAAAkJ,EAAA,EAAApG,IAAA,SAAA+G,MAAA,WAelB,OAAOpI,EAAAC,EAAAC,cAAC4E,EAAA,eAAD,CAAgBG,OAASxG,KAAKwG,QACjCjF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,mBACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACfH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,0BACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gBAAf,kBAGRH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACXH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACXH,EAAAC,EAAAC,cAACmI,EAAA,EAAD,CAAYzE,GAAG,iBAAf,UACA5D,EAAAC,EAAAC,cAACmI,EAAA,EAAD,CAAYzE,GAAG,mBAAf,YACEnF,KAAK4B,MAAMiI,iBACTtI,EAAAC,EAAAC,cAAA,UAAQO,QAAUhC,KAAK4B,MAAMkI,QACzBpI,UACI,sDAFR,YAORH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACXH,EAAAC,EAAAC,cAACsI,EAAA,EAAD,MAES/J,KAAK4B,MAAMiI,iBACRtI,EAAAC,EAAAC,cAACuI,EAAA,EAAD,CAAOC,UAAY5B,IAE3B9G,EAAAC,EAAAC,cAACuI,EAAA,EAAD,CAAOE,KAAK,gBAAgBD,UAAYvG,IACxCnC,EAAAC,EAAAC,cAACuI,EAAA,EAAD,CAAOE,KAAK,yBACRD,UAAYhE,IAChB1E,EAAAC,EAAAC,cAACuI,EAAA,EAAD,CAAOE,KAAK,sBACRD,UAAYtC,IAChBpG,EAAAC,EAAAC,cAACuI,EAAA,EAAD,CAAOE,KAAK,kBACRD,UAAY1E,IAChBhE,EAAAC,EAAAC,cAAC0I,EAAA,EAAD,CAAUhF,GAAG,2BA/CX6D,EAAA,CAAe7G","file":"static/js/1.d16e242f.chunk.js","sourcesContent":["import gql from \"graphql-tag\";\r\n\r\nexport const ordersSummaryQuery = gql`\r\n    query($onlyShipped: Boolean, $page:Int, $pageSize:Int, $sort:String) {\r\n        orders(onlyUnshipped: $onlyShipped) {\r\n            totalSize, \r\n            orders(page: $page, pageSize: $pageSize, sort: $sort) {\r\n                id, name, email, shipped \r\n                products {\r\n                    quantity, product { price }\r\n                } \r\n            }\r\n        }\r\n    }`\r\n\r\nexport const productsList = gql`\r\n    query($page: Int, $pageSize: Int, $sort: String) {\r\n        products {\r\n            totalSize, \r\n            products(page: $page, pageSize: $pageSize, sort: $sort) {\r\n                id, name, category, price\r\n            }\r\n        }\r\n    }`\r\n\r\nexport const product = gql`\r\n    query($id: ID!) {\r\n        product(id: $id) {\r\n            id, name, description, category, price\r\n        }\r\n    }`\r\n","import React, { Component } from \"react\";\r\n\r\nexport class OrdersRow extends Component {\r\n\r\n    calcTotal = (products) => products.reduce((total, p) => \r\n        total += p.quantity * p.product.price, 0).toFixed(2)\r\n\r\n    getShipping = (order) => order.shipped                 \r\n        ? <i className=\"fa fa-shipping-fast text-success\" /> \r\n        : <i className=\"fa fa-exclamation-circle text-danger\" /> \r\n    \r\n    render = () => \r\n        <tr>\r\n            <td>{ this.props.order.id }</td>\r\n            <td>{this.props.order.name}</td>\r\n            <td>{ this.props.order.email }</td>\r\n            <td className=\"text-right\">\r\n                ${ this.calcTotal(this.props.order.products) }\r\n            </td>\r\n            <td className=\"text-center\">\r\n                <button className=\"btn btn-sm btn-block bg-muted\" \r\n                        onClick={ this.props.toggleShipped }>\r\n                    { this.getShipping(this.props.order )}                \r\n                    <span>\r\n                        { this.props.order.shipped \r\n                            ? \" Shipped\" : \" Pending\"}\r\n                    </span>\r\n                </button>\r\n            </td>\r\n        </tr>\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { OrdersRow } from \"./OrdersRow\";\r\nimport { PaginationControls } from \"../PaginationControls\";\r\n\r\nexport class OrdersTable extends Component {\r\n\r\n    render = () => \r\n        <div>\r\n            <h4 className=\"bg-info text-white text-center p-2\">\r\n                { this.props.totalSize } Orders\r\n            </h4>\r\n\r\n            <PaginationControls keys={[\"ID\", \"Name\"]}\r\n                { ...this.props } />\r\n\r\n            <table className=\"table table-sm table-striped\">\r\n                <thead>\r\n                    <tr><th>ID</th>\r\n                        <th>Name</th><th>Email</th>\r\n                        <th className=\"text-right\">Total</th>\r\n                        <th className=\"text-center\">Shipped</th>\r\n                    </tr>\r\n                </thead>\r\n                <tbody>\r\n                    { this.props.orders.map(order => \r\n                        <OrdersRow key={ order.id } \r\n                            order={ order} toggleShipped={ () => \r\n                                this.props.toggleShipped(order.id, !order.shipped) }  \r\n                        /> \r\n                    )}\r\n                </tbody>\r\n            </table>\r\n        </div>    \r\n}\r\n","import gql from \"graphql-tag\";\r\n\r\nexport const shipOrder = gql`\r\n    mutation($id: ID!, $shipped: Boolean!) {\r\n        shipOrder(id: $id, shipped: $shipped) {\r\n            id, shipped\r\n        }\r\n    }`\r\n\r\nexport const storeProduct = gql`\r\n    mutation($product: productStore) {\r\n        storeProduct(product: $product) {\r\n            id, name, category, description, price\r\n        }\r\n    }`\r\n\r\nexport const updateProduct = gql`\r\n    mutation($product: productUpdate) {\r\n        updateProduct(product: $product) {\r\n            id, name, category, description, price\r\n        }\r\n    }`\r\n\r\nexport const deleteProduct = gql`\r\n    mutation($id: ID!) {\r\n        deleteProduct(id: $id) {\r\n            id\r\n        }\r\n    }`\r\n","import { graphql, compose } from \"react-apollo\";\r\nimport { ordersSummaryQuery } from \"./clientQueries\";\r\nimport { OrdersTable } from \"./OrdersTable\";\r\nimport { shipOrder } from \"./clientMutations\";\r\n\r\nconst vars = {\r\n    onlyShipped: false, page: 1, pageSize: 10, sort: \"id\"\r\n}\r\n\r\nexport const OrdersConnector = compose(\r\n    graphql(ordersSummaryQuery,\r\n        {\r\n            options: (props) => ({ variables: vars }),\r\n            props: ({data: { loading, orders, refetch }}) => ({\r\n                totalSize: loading ? 0 : orders.totalSize,\r\n                orders: loading ? []: orders.orders,\r\n                currentPage: vars.page,\r\n                pageCount: loading ? 0 : Math.ceil(orders.totalSize / vars.pageSize),\r\n                navigateToPage: (page) => { vars.page = Number(page); refetch(vars)},\r\n                pageSize: vars.pageSize,            \r\n                setPageSize: (size) =>\r\n                    { vars.pageSize = Number(size); refetch(vars)},\r\n                sortKey: vars.sort,\r\n                setSortProperty: (key) => { vars.sort = key; refetch(vars)},\r\n            })\r\n        }\r\n    ),\r\n    graphql(shipOrder, {\r\n        props: ({ mutate }) => ({\r\n            toggleShipped: (id, shipped) => mutate({ variables: { id, shipped }})\r\n        })\r\n    })\r\n)(OrdersTable);\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nexport class ProductsRow extends Component {\r\n    \r\n    render = () => \r\n        <tr>\r\n            <td>{ this.props.product.id }</td>\r\n            <td>{this.props.product.name}</td>\r\n            <td>{ this.props.product.category }</td>\r\n            <td className=\"text-right\">\r\n                ${ this.props.product.price.toFixed(2) }\r\n            </td>\r\n            <td className=\"text-center\">\r\n                <button className=\"btn btn-sm btn-danger mx-1\" \r\n                    onClick={ () => \r\n                        this.props.deleteProduct(this.props.product.id) }>\r\n                            Delete\r\n                </button>\r\n                <Link to={`/admin/products/${this.props.product.id}`}\r\n                    className=\"btn btn-sm btn-warning\">\r\n                        Edit\r\n                </Link>\r\n            </td>\r\n        </tr>\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { PaginationControls } from \"../PaginationControls\";\r\nimport { ProductsRow } from \"./ProductsRow\";\r\n\r\nexport class ProductsTable extends Component {\r\n\r\n    render = () =>     \r\n         <div>\r\n            <h4 className=\"bg-info text-white text-center p-2\">\r\n                { this.props.totalSize } Products\r\n            </h4>\r\n\r\n        <PaginationControls keys={[\"ID\", \"Name\", \"Category\"]}\r\n            { ...this.props } />\r\n\r\n        <table className=\"table table-sm table-striped\">\r\n            <thead>\r\n                <tr><th>ID</th>\r\n                    <th>Name</th><th>Category</th>\r\n                    <th className=\"text-right\">Price</th>\r\n                    <th className=\"text-center\"></th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                { this.props.products.map(prod => \r\n                    <ProductsRow key={ prod.id} product={ prod }\r\n                        deleteProduct={ this.props.deleteProduct } />\r\n                )}\r\n            </tbody>\r\n        </table>\r\n        <div className=\"text-center\">\r\n            <Link to=\"/admin/products/create\" className=\"btn btn-primary\">\r\n                Create Product\r\n            </Link>\r\n        </div>\r\n    </div>                   \r\n}\r\n","import { graphql, compose } from \"react-apollo\";\r\nimport { ProductsTable } from \"./ProductsTable\";\r\nimport { productsList } from \"./clientQueries\";\r\nimport { deleteProduct } from \"./clientMutations\";\r\n\r\nconst vars = {\r\n    page: 1, pageSize: 10, sort: \"id\"\r\n}\r\n\r\nexport const ConnectedProducts = compose(\r\n    graphql(productsList,\r\n        {\r\n            options: (props) => ({ variables: vars }),\r\n            props: ({data: { loading, products, refetch }}) => ({\r\n                totalSize: loading ? 0 : products.totalSize,\r\n                products: loading ? []: products.products,\r\n                currentPage: vars.page,\r\n                pageCount: loading ? 0 \r\n                    : Math.ceil(products.totalSize / vars.pageSize),\r\n                navigateToPage: (page) => { vars.page = Number(page); refetch(vars)},\r\n                pageSize: vars.pageSize,            \r\n                setPageSize: (size) => \r\n                    { vars.pageSize = Number(size); refetch(vars)},\r\n                sortKey: vars.sort,\r\n                setSortProperty: (key) => { vars.sort = key; refetch(vars)},\r\n            })\r\n        }\r\n    ),\r\n    graphql(deleteProduct, \r\n        {\r\n            options: {\r\n                update: (cache, { data: { deleteProduct: { id }}}) => {\r\n                    const queryDetails = { query: productsList, variables: vars };\r\n                    const data = cache.readQuery(queryDetails)\r\n                    data.products.products = \r\n                        data.products.products.filter(p => p.id !== id);\r\n                    data.products.totalSize = data.products.totalSize - 1;\r\n                    cache.writeQuery({...queryDetails, data });\r\n                }\r\n        },\r\n        props: ({ mutate }) => ({\r\n            deleteProduct: (id) => mutate({ variables: { id }})\r\n        })\r\n    })\r\n)(ProductsTable);\r\n","import React, { Component } from \"react\";\r\nimport { ValidatedForm } from \"../forms/ValidatedForm\";\r\nimport { Mutation } from \"react-apollo\";\r\nimport { storeProduct, updateProduct } from \"./clientMutations\";\r\n\r\nexport class ProductCreator extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.defaultAttrs = { type: \"text\", required: true };\r\n        this.formModel = [\r\n            { label: \"Name\" }, { label: \"Description\" }, \r\n            { label: \"Category\" }, \r\n            { label: \"Price\", attrs: { type: \"number\"}}\r\n        ];\r\n        this.mutation = storeProduct;\r\n        if (this.props.mode === \"edit\" ) {\r\n            this.mutation = updateProduct;\r\n            this.formModel = [ { label: \"Id\", attrs: { disabled: true }},  \r\n                     ...this.formModel]\r\n                .map(item => ({ ...item, attrs: { ...item.attrs, \r\n                    defaultValue: this.props.product[item.label.toLowerCase()]} }));\r\n        }\r\n    }\r\n\r\n    navigate = () => this.props.history.push(\"/admin/products\");\r\n    \r\n    render = () => {\r\n        return <div className=\"container-fluid\">\r\n            <div className=\"row\">\r\n                <div className=\"col bg-dark text-white\">\r\n                    <div className=\"navbar-brand\">SPORTS STORE</div>\r\n                </div>\r\n            </div>        \r\n            <div className=\"row\">\r\n                <div className=\"col m-2\">\r\n                    <Mutation mutation={ this.mutation }>\r\n                        { (saveMutation, {client }) => {\r\n                            return <ValidatedForm formModel={ this.formModel } \r\n                                defaultAttrs={ this.defaultAttrs } \r\n                                submitCallback={ data => { \r\n                                    saveMutation({variables: { product: \r\n                                        { ...data, price: Number(data.price) }}});\r\n                                    if (this.props.mode !== \"edit\" ) {\r\n                                        client.resetStore();\r\n                                    }\r\n                                    this.navigate();\r\n                                }} \r\n                                cancelCallback={ this.navigate } \r\n                                submitText=\"Save\" cancelText=\"Cancel\" />\r\n                        }}\r\n                    </Mutation>        \r\n                </div>    \r\n            </div>        \r\n        </div>        \r\n    }\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { Query } from \"react-apollo\";\r\nimport { ProductCreator } from \"./ProductCreator\";\r\nimport { product } from \"./clientQueries\";\r\n\r\nexport class ProductEditor extends Component {\r\n\r\n    render = () => \r\n        <Query query={ product } variables={ {id: this.props.match.params.id} } >\r\n            { ({ loading, data }) => {\r\n                if (!loading) {\r\n                    return <ProductCreator {...this.props } product={data.product} \r\n                        mode=\"edit\" />\r\n                }\r\n                return null;\r\n            }}\r\n        </Query>\r\n}\r\n","import React, { Component } from \"react\";\r\nimport { AuthContext } from \"./AuthContext\";\r\n\r\nexport const authWrapper = (WrappedComponent) => \r\n    class extends Component {\r\n        render = () => \r\n            <AuthContext.Consumer>\r\n                { context =>\r\n                    <WrappedComponent { ...this.props } { ...context } />\r\n                }\r\n            </AuthContext.Consumer>\r\n    }\r\n","import React, { Component } from \"react\";\r\nimport { withRouter } from \"react-router-dom\";\r\nimport { authWrapper } from \"./AuthWrapper\";\r\nimport { ValidatedForm } from \"../forms/ValidatedForm\";\r\n\r\nexport const AuthPrompt = withRouter(authWrapper(class extends Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            errorMessage: null\r\n        }\r\n        this.defaultAttrs = { required: true };\r\n        this.formModel = [\r\n            { label: \"Username\", attrs: { defaultValue: \"admin\"}}, \r\n            { label: \"Password\", attrs: { type: \"password\"} }, \r\n        ];        \r\n    }\r\n\r\n    authenticate = (credentials) => {\r\n        this.props.authenticate(credentials)\r\n            .catch(err => this.setState({ errorMessage: err.message}))\r\n            .then(this.props.history.push(\"/admin\"));\r\n    }\r\n\r\n    render = () => \r\n        <div className=\"container-fluid\">\r\n            <div className=\"row\">\r\n                <div className=\"col bg-dark text-white\">\r\n                    <div className=\"navbar-brand\">SPORTS STORE</div>\r\n                </div>\r\n            </div>        \r\n            <div className=\"row\">\r\n                <div className=\"col m-2\">\r\n                    { this.state.errorMessage != null && \r\n                        <h4 className=\"bg-danger text-center text-white m-1 p-2\">\r\n                            { this.state.errorMessage }\r\n                        </h4>\r\n                    }\r\n                    <ValidatedForm formModel={ this.formModel }\r\n                        defaultAttrs={ this.defaultAttrs }                        \r\n                        submitCallback={ this.authenticate }\r\n                        submitText=\"Login\"\r\n                        cancelCallback={ () => this.props.history.push(\"/\")}\r\n                        cancelText=\"Cancel\"\r\n                    />\r\n                </div>\r\n            </div>\r\n        </div>\r\n}))\r\n","import React, { Component } from \"react\";\r\nimport  ApolloClient from \"apollo-boost\";\r\nimport { ApolloProvider} from \"react-apollo\";\r\nimport { GraphQlUrl } from \"../data/Urls\";\r\nimport { OrdersConnector } from \"./OrdersConnector\"\r\nimport { Route, Redirect, Switch } from \"react-router-dom\";\r\nimport { ToggleLink } from \"../ToggleLink\";\r\nimport { ConnectedProducts } from \"./ProductsConnector\";\r\nimport { ProductEditor } from \"./ProductEditor\";\r\nimport { ProductCreator } from \"./ProductCreator\";\r\nimport { AuthPrompt } from \"../auth/AuthPrompt\";\r\nimport { authWrapper } from \"../auth/AuthWrapper\";\r\n\r\n// const graphQlClient = new ApolloClient({\r\n//     uri: GraphQlUrl\r\n// });\r\n\r\nexport default authWrapper(class extends Component {\r\n    \r\n    constructor(props) {\r\n        super(props);\r\n        this.client = new ApolloClient({\r\n            uri: GraphQlUrl,\r\n            request: gqloperation => gqloperation.setContext({\r\n                headers: {\r\n                    Authorization: `Bearer<${this.props.webToken}>`\r\n                },                \r\n            })\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return <ApolloProvider client={ this.client }>\r\n            <div className=\"container-fluid\">\r\n                <div className=\"row\">\r\n                <div className=\"col bg-info text-white\">\r\n                    <div className=\"navbar-brand\">SPORTS STORE</div>\r\n                </div>\r\n            </div>        \r\n            <div className=\"row\">\r\n                <div className=\"col-3 p-2\">\r\n                    <ToggleLink to=\"/admin/orders\">Orders</ToggleLink>\r\n                    <ToggleLink to=\"/admin/products\">Products</ToggleLink>\r\n                    { this.props.isAuthenticated &&\r\n                        <button onClick={ this.props.signout }\r\n                            className=\r\n                                \"btn btn-block btn-secondary m-2 fixed-bottom col-3\">\r\n                            Log Out\r\n                        </button>\r\n                    }                    \r\n                </div>\r\n                <div className=\"col-9 p-2\">\r\n                    <Switch>\r\n                        { \r\n                            !this.props.isAuthenticated && \r\n                                <Route component={ AuthPrompt } />\r\n                        }                        \r\n                        <Route path=\"/admin/orders\" component={ OrdersConnector } />\r\n                        <Route path=\"/admin/products/create\" \r\n                            component={ ProductCreator} />                        \r\n                        <Route path=\"/admin/products/:id\" \r\n                            component={ ProductEditor} />\r\n                        <Route path=\"/admin/products\" \r\n                            component={ ConnectedProducts } />\r\n                        <Redirect to=\"/admin/orders\" />\r\n                    </Switch>\r\n                </div>\r\n            </div>\r\n        </div>            \r\n        </ApolloProvider>\r\n    }\r\n})\r\n"],"sourceRoot":""}